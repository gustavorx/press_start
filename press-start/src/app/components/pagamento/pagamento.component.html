<!-- ENDERE√áO(Endpoint) /pagamento -->
<html>
    <body>
        <div class="d-flex flex-wrap justify-content-center align-items-center">
            <div class="col" *ngIf="!esconderDescricao">
                <div class="row"><br><br></div>
                <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4">
                        <div class="row">
                            <h1 class="text-white">Selecione um m√©todo de pagamento abaixo: </h1>
                        </div>
                        <div *ngIf="!esconderMetodos" class="row">
                            <p class="opcoes" (click)="mostrarCartao()" style="cursor: pointer;">Cart√£o de Cr√©dito</p>
                            <p class="opcoes" (click)="mostrarBoleto()" style="cursor: pointer;">Boleto banc√°rio</p>
                            <p class="opcoes" (click)="mostrarPix()" style="cursor: pointer;">PIX</p>
                        </div>
                    </div>
                    <div class="col-4"></div>
                </div> 
                <div class="row"><br></div>
                <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4">
                        <app-resumoPedido></app-resumoPedido>
                    </div>
                </div>
            </div>          
            <div class="container" [hidden]="esconderCartao || creditoFinalizado">
                <form>
                    <div class="text-white">
                        <p><span>‚¨Ö</span><span class="alterar" (click)="alterarPagameto()" style="cursor: pointer;">Alterar forma de pagamento</span></p>
                        <h3>Cart√£o de Cr√©dito</h3>
                        <hr>
                    </div>

                        <div class="row" style="--bs-gutter-x: 0rem">
                            <div class="col-7">
                                <div class="row m-1">
                                    <label class="text-white" for="numeroCartao">N√∫mero do cart√£o</label>
                                    <input type="text" class="form-control" id="numeroCartao" [(ngModel)]="numeroCartao" name="numeroCartao"  maxlength="19" pattern="^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$"
                                    placeholder="0000 0000 0000 0000" required>
                                    <p class="erroFraseCurta" *ngIf="erroNumeroCartao">Preencha o N√∫mero do cart√£o</p>
                                </div>
                                <div class="row">
                                    <div class="col m-1">
                                        <label class="text-white mt-2" for="validade">Validade</label>
                                        <input type="text" class="form-control" id="dataValidade" [(ngModel)]="dataValidade" name="dataValidade" placeholder="MM/AAAA" type="text" maxlength="7" pattern="^((0[1-9])|(1[0-2]))\/((2021)|(20[1-2][0-9]))$"
                                        required>
                                        <p class="erroFraseLonga" *ngIf="erroDataValidade">Preencha a data de Validade</p>
                                    </div>
                                    <div class="col m-1">
                                        <label class="text-white mt-2" for="cvv">C√≥digo de Seguran√ßa</label>
                                        <input type="text" class="form-control" id="cvv" [(ngModel)]="cvv" name="cvv" placeholder="000" maxlength="3" pattern="[0-9]+$" required>
                                        <p class="erroFraseLonga" *ngIf="erroCvv">Preencha o C√≥digo de Seguran√ßa</p>
                                    </div>
                                </div>
                                <div class="row m-1">
                                    <label class="text-white" for="nome">Nome Completo</label>
                                    <input type="text" class="form-control" id="nomeCompleto" [(ngModel)]="nomeCompleto" name="nomeCompleto" placeholder="Digite seu nome" required>
                                    <p class="erroFraseCurta" *ngIf="erroNome">Preencha seu Nome Completo</p>
                                </div>
                                <div class="row">
                                    <div class="col m-1">
                                        <label class="text-white mt-2" for="cpf">CPF</label>
                                    <input id="cpf" [(ngModel)]="cpf" name="cpf" placeholder="Apenas n√∫meros" class="form-control" value="" maxlength="11" pattern="[0-9]+$" required>
                                    <p class="erroFraseCurta" *ngIf="erroCpf">Preencha o N√∫mero do CPF</p>
                                    </div>                                  
                                </div>
                                <div class="row">
                                    <div class="col m-1">
                                        <label class="text-white mt-2" for="telefone">Telefone</label>
                                        <input type="text" class="form-control" id="telefone" [(ngModel)]="telefone" name="telefone" placeholder="Apenas n√∫meros com DDD" maxlength="11" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$" required>
                                        <p class="erroFraseLonga" *ngIf="erroTelefone">Preencha o N√∫mero de Telefone</p>
                                    </div>
                                    <div class="col m-1">
                                        <label class="text-white mt-2" for="dataDeNascimento">Data De Nascimento</label>
                                        <input type="text" class="form-control" id="nascimento" [(ngModel)]="nascimento" name="nascimento" placeholder="DD/MM/AAAA" type="text" maxlength="10" pattern="^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$"
                                        required>
                                        <p class="erroFraseLonga" *ngIf="erroNascimento">Preencha a data de nascimento</p>            
                                    </div>
                                </div>
                                <div class="row">
                                    
                                </div>
                            </div>
                            <div class="col-1"></div>
                            <div class="col-4">
                                <app-resumoPedidoCartao></app-resumoPedidoCartao>
                                <div class="row"><br></div>
                                <div class="d-flex flex-wrap justify-content-center align-items-center">
                                    <button type="submit" class="btn btn-lg btn-outline-success btn-compra" (click)="finalizarPagamentoCredito()"> Finalizar Compra üîí</button>
                                </div>
                            </div>
                        </div>
                </form>
            </div>

            <!-- BOLETO -->
            <div class="container" *ngIf="!esconderBoleto">
                <div class="text-white">
                    <p><span>‚¨Ö</span><span class="alterar" (click)="alterarPagameto()" style="cursor: pointer;">Alterar forma de pagamento</span></p>
                    <h3>Preencha seus dados para a emiss√£o do boleto</h3>
                    <hr>
                </div>

                    <form>
                        <div class="row">
                            <div class="col-8">
                                <div class="row m-1">
                                    <label class="text-white" for="nome">Nome Completo</label>
                                    <input type="text" class="form-control" id="boletoNome" [(ngModel)]="boletoNome" name="boletoNome" placeholder="Digite seu nome" required>
                                    <p class="erroFraseCurta" *ngIf="erroBoletoNome">Preencha seu nome completo</p>
                                </div>
                                <div class="row m-1">
                                    <label class="text-white mt-2" for="cpf">CPF</label>
                                    <input id="boletoCpf" [(ngModel)]="boletoCpf" name="boletoCpf" placeholder="Apenas n√∫meros" class="form-control" value="" maxlength="11" pattern="[0-9]+$" required>
                                    <p class="erroFraseCurta" *ngIf="erroBoletoCpf">Preencha seu CPF</p>
                                </div>
                                <div class="row m-1" *ngIf="erroBoletoCpf"><br></div>
                                <div class="row m-1">
                                    <button (click)="finalizarPagamentoBoleto()">Prosseguir</button>
                                </div>
                            </div>
                            <div class="col-4">
                                <app-resumoPedido></app-resumoPedido>
                            </div>
                        </div>
                    </form>

            </div>

            <!-- PIX -->
            <div class="container" *ngIf="!esconderPix">
                <div class="text-white">
                    <p><span>‚¨Ö</span><span class="alterar" (click)="alterarPagameto()" style="cursor: pointer;">Alterar forma de pagamento</span></p>
                    <h3>Finalize o pagamento usando o Pix!</h3>
                    <hr>
                </div>

                    <form>
                        <div class="row">
                            <div class="col-8">
                                <div class="row text-white" style="--bs-gutter-x: 0rem">
                                    Voc√™ pode utilizar a c√¢mera do seu celular para ler o QR Code abaixo ou copiar o c√≥digo abaixo e pagar no aplicativo do seu banco:
                                </div>
                                <div class="row">
                                    <div class="col-2"></div>
                                    <div class="col-4">
                                        <img class="codigo" src="../../../assets/pagamento/PixQRcode.png">
                                    </div>
                                    <div class="col-4"></div>                                
                                </div>

                                <div class="row"><br></div>

                                <div class="row">
                                    <div class="col-10">
                                        <input type="text" class="form-control" id="qrCode" value="{{ qrCode }}">
                                    </div>
                                    <div class="col-2">
                                        <button class="btn btn-lg btn-outline-info btn-copiar" (click)="copiarCodigo()">copiar</button>
                                    </div>                                
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="row">
                                    <app-resumoPedido></app-resumoPedido>
                                </div>
                                <div class="row">
                                    <div class="col-3"></div>
                                    <div class="col-9">
                                        <br>
                                        <button class="btn btn-lg btn-outline-success btn-concluir" (click)="concluirPix()">Concluir</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
            </div>

            <!-- CR√âDITO -> PAGAMENTO PRE APROVADO -->
            <div class="container" [hidden]="!creditoFinalizado">
                <div class="text-white">
                    <h2>Pagamento pr√© aprovado‚úîÔ∏è</h2>
                    <hr>                    
                </div>

                    <form>
                        <div class="row">
                            <div class="col-8">
                                <div class="row text-white" style="--bs-gutter-x: 0rem">
                                    <p class="creditoAprovado1">Seu pagamento est√° sendo processado</p><br>
                                    <p class="creditoAprovado2">Seu jogo logo estar√° dispon√≠vel!</p> 
                                </div>
                                <div class="row">
                                    <div class="col-1"></div>
                                    <div class="col-11">
                                        <button class="btn btn-lg btn-outline-success btn-concluir" routerLink="/">Voltar ao in√≠cio</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
            </div>
        </div>
    </body>
</html>